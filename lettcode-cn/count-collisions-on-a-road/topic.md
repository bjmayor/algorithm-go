# 2211. 统计道路上的碰撞次数

## 题目描述

在一条无限长的公路上有 n 辆汽车正在行驶。汽车按从左到右的顺序编号为 0 到 n - 1，每辆车都在一个独特的位置。

给定一个下标从 0 开始的字符串 `directions`，长度为 n。`directions[i]` 的值可以是 `'L'`、`'R'` 或 `'S'`，分别表示第 i 辆车向左行驶、向右行驶或停在原地。所有移动的车速度相同。

碰撞计数规则如下：

- 当两辆正在相向而行的车发生碰撞时，碰撞次数增加 2；
- 当一辆正在移动的车与一辆静止的车发生碰撞时，碰撞次数增加 1。

发生碰撞后，参与碰撞的车辆会停在碰撞位置并保持静止；除此之外，车辆不会改变它们的方向或状态。

返回道路上发生的碰撞总次数。

## 示例

**示例 1：**

输入：`directions = "RLRSLL"`  
输出：`5`  
解释：
- 车 0 与车 1 相向而行相撞，碰撞次数 +2（总数 2）；
- 车 2（向右）与车 3（静止）碰撞，碰撞次数 +1（总数 3）；
- 车 3（静止）与车 4（向左）碰撞，碰撞次数 +1（总数 4）；
- 在车 3 与车 4 碰撞后，车 4 停下，随后车 5（向左）撞上停着的车 4，碰撞次数 +1（总数 5）。

**示例 2：**

输入：`directions = "LLRR"`  
输出：`0`  
解释：所有向左的车都朝远离其他车的方向驶去，所有向右的车也朝远离其它车的方向驶去，因此不会发生碰撞。

## 提示

- `1 <= directions.length <= 10^5`
- `directions[i]` 的值为 `'L'`、`'R'` 或 `'S'`
## 解题思路

观察发现：任意最左端连续的一段 `'L'`（向左行驶）不会与其它车辆相撞，因为它们会一直朝左远离；同理，最右端连续的一段 `'R'`（向右行驶）也不会与其它车辆相撞。

去掉这些最左侧的连续 `'L'` 和最右侧的连续 `'R'` 后，字符串中剩余的每一辆正在移动的车（即字符为 `'L'` 或 `'R'`）最终都会参与至少一次碰撞，并在碰撞后停下。因此，碰撞总次数等于剩余子串中所有非 `'S'` 字符的数量。

实现思路：扫描字符串去掉左侧连续的 `'L'` 和右侧连续的 `'R'`，统计中间部分中不等于 `'S'` 的字符个数即可。时间复杂度 O(n)，额外空间 O(1)。