# 3625. 统计梯形的数目 II

给定一个二维整数数组 `points`，其中 `points[i] = [x_i, y_i]` 表示第 i 个点在笛卡尔平面上的坐标。

请返回从 `points` 中任意选择 4 个互不相同的点后可以组成的不同梯形（trapezoid）的数量。

定义：梯形是一个凸四边形，且至少存在一对平行的边；两条直线平行当且仅当它们的斜率相同。

注意：在本题中，任意两个点都不同；选择 4 个点的顺序不影响梯形的计数，且在计算时每个符合条件的四元组只计为 1 个。

---

示例 1：

输入：

points = [[-3,2],[3,0],[2,3],[3,2],[2,-3]]

输出：

2

解释：

有两种不同的方式选择 4 个点组成梯形：

- [-3,2], [2,3], [3,2], [2,-3]
- [2,3], [3,2], [3,0], [2,-3]

示例 2：

输入：

points = [[0,0],[1,0],[0,1],[2,1]]

输出：

1

解释：

只有一种方式可以组成一个梯形。

---

约束：

- 4 <= points.length <= 500
- -1000 <= x_i, y_i <= 1000
- 所有点两两不同

---

提示（思路要点）：

- 将每一对点 (p, q) 对应的线段按其化简后的斜率 (dy, dx) 分桶（用最大公约数化简并统一符号），相同斜率的线段为可能的平行边。  
- 对于某个斜率桶中有 k 条线段，从中选两条作为“平行底边”有 C(k, 2) 种组合，但要排除共享端点的情况（因为那样不构成四边形）。  
- 统计所有合法的平行线段对数得到候选梯形对数；但注意平行四边形（parallelogram）会被多次计数——每个平行四边形因其两组平行边会被计两次，需要减去重复计数，使最终结果中每个梯形只计一次。  

以上提示能帮助在 O(n^2) 枚举所有点对并使用哈希分桶统计中得到一个高效解法（在满足题目约束的条件下）。

---

已添加题目描述、示例与提示。如果你希望我再在 `topic.md` 中加入示例图解、对应的参考代码（Go）、或将 `blog.md`/`main.go` 与题目说明对齐，我可以继续补充。
