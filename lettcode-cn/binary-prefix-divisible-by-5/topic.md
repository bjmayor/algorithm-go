1018. 可被 5 整除的二进制前缀

给定一个二进制数组 nums（索引从 0 开始）。我们把 x_i 定义为其二进制表示为子数组 nums[0..i] 的整数值（最高有效位在前）。

例如，若 nums = [1,0,1]，则 x_0 = 1, x_1 = 2, x_2 = 5。

请你返回一个布尔值数组 answer，answer[i] 为 true 当且仅当 x_i 可以被 5 整除。

示例

示例 1：

输入：nums = [0,1,1]
输出：[true,false,false]
解释：前缀的二进制值分别为 0（十进制 0）、01（十进制 1）、011（十进制 3）。只有第一个能被 5 整除。

示例 2：

输入：nums = [1,1,1]
输出：[false,false,false]

提示

- 1 <= nums.length <= 10^5
- nums[i] 为 0 或 1

解题思路提示

- 直接把前缀子数组转换为整数会导致数值迅速增大，直接取模运算可避免溢出；对每一步 x_i，如果已知 x_{i-1}，则 x_i = (x_{i-1} * 2 + nums[i])。
- 由于只关心能否被 5 整除，可以在每一步对 5 取模，维护 current = (current * 2 + nums[i]) % 5，当 current 为 0 时说明该前缀可被 5 整除。

复杂度

- 时间复杂度：O(n)，n 为数组长度，每个元素常数次运算
- 空间复杂度：O(n)，用于存放结果数组（不计答案数组即 O(1) 额外空间）

相关标签：数组、位运算
